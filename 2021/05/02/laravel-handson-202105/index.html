<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><title>Laravel のハンズオンに参加した | gaminessium.io</title><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="PHP Builders 主催のイベント、「Docker で Laravel のローカル環境を構築するハンズオン」に参加しました。 参加の動機としては以下になります。   これまで PHP にはあまり触れる機会がなかった（学生時代の教程で触れた程度）  Laravel フレームワーク等の周辺技術にも触れておきたかった  Docker を利用した環境構築について、一般的な知見を得たかった  ハンズオ"><meta property="og:type" content="article"><meta property="og:title" content="Laravel のハンズオンに参加した"><meta property="og:url" content="https://gaminessium.github.io/2021/05/02/laravel-handson-202105/index.html"><meta property="og:site_name" content="gaminessium.io"><meta property="og:description" content="PHP Builders 主催のイベント、「Docker で Laravel のローカル環境を構築するハンズオン」に参加しました。 参加の動機としては以下になります。   これまで PHP にはあまり触れる機会がなかった（学生時代の教程で触れた程度）  Laravel フレームワーク等の周辺技術にも触れておきたかった  Docker を利用した環境構築について、一般的な知見を得たかった  ハンズオ"><meta property="og:locale" content="ja_JP"><meta property="og:image" content="https://gaminessium.github.io/img/20210502_vs01.png"><meta property="og:image" content="https://gaminessium.github.io/img/20210502_laravel01.png"><meta property="og:image" content="https://gaminessium.github.io/img/20210502_laravel02.png"><meta property="article:published_time" content="2021-05-02T10:52:43.000Z"><meta property="article:modified_time" content="2021-06-03T11:16:14.928Z"><meta property="article:author" content="gaminessium"><meta property="article:tag" content="PHP"><meta property="article:tag" content="Laravel"><meta property="article:tag" content="Docker"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gaminessium.github.io/img/20210502_vs01.png"><link rel="alternate" href="/atom.xml" title="gaminessium.io" type="application/atom+xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css"><link rel="stylesheet" href="/layout.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/ocean.min.css" integrity="sha512-h/NHRaEVWoZqcVSsHytn36bln1uTHHSNqV+LPX4nLJf0p0H5gQ17fIivY+Ld8laKFJP5O5rko117FID3OW9hGQ==" crossorigin="anonymous"><meta name="generator" content="Hexo 5.3.0"></head><body><div id="root"><header><h1>gaminessium.io</h1></header><main class="main"><div class="article-meta"><ul><li><a href="/categories/PHP/">PHP</a></li><li><a href="/categories/PHP/Laravel/">Laravel</a></li><li><time class="dt-published" datetime="2021-05-02T10:52:43.000Z" itemprop="datePublished">2021-05-02</time></li></ul></div><div class="outer"><article id="post-laravel-handson-202105" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">Laravel のハンズオンに参加した</h1><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Laravel/" rel="tag">Laravel</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li></ul></header><div class="e-content article-entry" itemprop="articleBody"><p>PHP Builders 主催のイベント、「<a target="_blank" rel="noopener" href="https://php-builders.connpass.com/event/211985/" title="DockerでLaravelのローカル環境を構築するハンズオン(オンライン) - connpass">Docker で Laravel のローカル環境を構築するハンズオン</a>」に参加しました。</p><p>参加の動機としては以下になります。</p><ul><li>これまで PHP にはあまり触れる機会がなかった（学生時代の教程で触れた程度）</li><li>Laravel フレームワーク等の周辺技術にも触れておきたかった</li><li>Docker を利用した環境構築について、一般的な知見を得たかった</li></ul><p>ハンズオンの内容としては、主催の ucan-lab さんが公開されている以下の記事に倣い、進行について都度確認しながら手順を進めていくものになります。</p><ul><li><a target="_blank" rel="noopener" href="https://qiita.com/ucan-lab/items/56c9dc3cf2e6762672f4" title="【超入門】20分でLaravel開発環境を爆速構築するDockerハンズオン - Qiita">【超入門】20 分で Laravel 開発環境を爆速構築する Docker ハンズオン - Qiita</a></li></ul><p>細かい内容については上記ハンズオン手順の通りなのですが、この記事では開催中になされた解説や他の参加者からの情報について、自分がなるほどと思った点についてまとめます。</p><h2 id="docker-compose-コマンド、ではなく-docker-compose-サブコマンド"><a href="#docker-compose-コマンド、ではなく-docker-compose-サブコマンド" class="headerlink" title="docker-compose コマンド、ではなく docker compose サブコマンド"></a><code>docker-compose</code> コマンド、ではなく <code>docker compose</code> サブコマンド</h2><p>Docker Desktop 3.0.0 以降では、それまで独立していた <code>docker-compose</code> コマンドが <code>docker</code> コマンドのサブコマンドとして取り込まれつつあるようです。</p><ul><li><a target="_blank" rel="noopener" href="https://docs.docker.com/docker-for-windows/release-notes/#docker-desktop-300" title="Docker for Windows release notes | Docker Documentation">Docker for Windows release notes#docker-desktop-300</a></li></ul><blockquote><p>First version of <code>docker compose</code> (as an alternative to the existing <code>docker-compose</code>). Supports some basic commands but not the complete functionality of <code>docker-compose</code> yet.</p></blockquote><p>ただし現状ではプレビュー版という扱いで、一部 <code>docker-compose</code> コマンドとの差異もある模様。</p><ul><li><a target="_blank" rel="noopener" href="https://docs.docker.com/compose/cli-command/">Compose CLI Tech Preview</a></li></ul><blockquote><p>The <code>compose</code> command in the Docker CLI is currently available as a Tech Preview. We recommend that you do not use this in production environments.</p></blockquote><h2 id="VS-Code-では編集ファイルの自動保存が便利"><a href="#VS-Code-では編集ファイルの自動保存が便利" class="headerlink" title="VS Code では編集ファイルの自動保存が便利"></a>VS Code では編集ファイルの自動保存が便利</h2><p>Visual Studio Code では、編集中のファイルに変更を加えた際、その内容を自動的に保存する設定が行えるようです。</p><p>特にプラグイン等は必要なく、標準機能として設定項目が存在します。</p><p><img src="/img/20210502_vs01.png" alt="File メニュー中から設定できる"></p><p>また VS Code の <code>settings.json</code> により、保存を行うタイミングなどの挙動を調整できるようです。</p><ul><li><a target="_blank" rel="noopener" href="https://www.atmarkit.co.jp/ait/articles/1708/23/news026_2.html" title="Visual Studio Codeの設定「虎の巻」：IDE編：特集：Visual Studio Codeを使いこなそう！（2/3 ページ） - ＠IT">Visual Studio Code の設定「虎の巻」：IDE 編 - ＠IT</a></li></ul><blockquote><p><code>files.autoSave</code> 項目は未保存のファイルを自動的に保存するかどうかを指定する。デフォルト値は <code>off</code> であり、自動保存はされない。 <code>onFocusChange</code> にすると、タブ（や VS Code のウィンドウ）がフォーカスを失うと自動保存されるようになる。</p></blockquote><h2 id="Docker-公式の-MySQL-イメージと-Oracle-管理下の-MySQL-イメージとの違い"><a href="#Docker-公式の-MySQL-イメージと-Oracle-管理下の-MySQL-イメージとの違い" class="headerlink" title="Docker 公式の MySQL イメージと Oracle 管理下の MySQL イメージとの違い"></a>Docker 公式の MySQL イメージと Oracle 管理下の MySQL イメージとの違い</h2><p>MySQL の Docker イメージを利用する際、自分はこれまで Docker Official Images の管理下にあるイメージを参照してきました。</p><ul><li><a target="_blank" rel="noopener" href="https://hub.docker.com/_/mysql/" title="mysql - Docker Hub">mysql - Docker Hub</a></li></ul><p>今回のハンズオンでは、Oracle の MySQL チームが管理するイメージを利用することになりました。</p><ul><li><a target="_blank" rel="noopener" href="https://hub.docker.com/r/mysql/mysql-server" title="mysql/mysql-server - Docker Hub">mysql/mysql-server - Docker Hub</a></li></ul><p>Official Images の管理するイメージとの違いは、こちらのイメージのほうが更新が迅速に行われる点にあるようです。</p><p>例えば Apple Silicon Mac 上で MySQL コンテナーを利用する際は、現状 Oracle の公開するイメージを利用する必要があるとのこと。</p><h2 id="Firefox-における-localhost-に対するアクセス制限"><a href="#Firefox-における-localhost-に対するアクセス制限" class="headerlink" title="Firefox における localhost に対するアクセス制限"></a>Firefox における <code>localhost</code> に対するアクセス制限</h2><p>他の参加者で Firefox を利用している方がおり、ローカルホストを宛先とした動作確認の際に「このアドレスへの接続は制限されています」という文面でアクセスが弾かれてしまうケースがありました。</p><p>Firefox では、HTTP/HTTPS 以外のプロトコルが使用する、いわゆる well-known ポートがブロックの対象になっているようです。</p><ul><li><a target="_blank" rel="noopener" href="https://fumidzuki.com/knowledge/2952/" title="【Firefox】特定ポート指定時に「このアドレスへの接続は制限されています」が表示されたときの解決方法の紹介 – fumidzuki">特定ポート指定時に「このアドレスへの接続は制限されています」が表示されたときの解決方法の紹介 – fumidzuki</a></li></ul><p>ハンズオン中で使用したポートがこれらブロック対象に含まれていたため、上記のエラーが返されていたようです。Firefox の設定を変更することにより、この挙動を解除することができます。</p><p>具体的にどのポートがブロック対象として扱われるかについては、以下で公開されている Firefox のソースコード上から確認できます。</p><ul><li><a target="_blank" rel="noopener" href="https://hg.mozilla.org/mozilla-central/file/tip/netwerk/base/nsIOService.cpp" title="mozilla-central: netwerk/base/nsIOService.cpp@c4bd8fe7ee285cbd80419f23f175053921fe5cd9">mozilla-central: netwerk/base/nsIOService.cpp</a></li></ul><h2 id="Laravel-のウェルカム-ページには-OS-のビジュアル-テーマが反映されている"><a href="#Laravel-のウェルカム-ページには-OS-のビジュアル-テーマが反映されている" class="headerlink" title="Laravel のウェルカム ページには OS のビジュアル テーマが反映されている"></a>Laravel のウェルカム ページには OS のビジュアル テーマが反映されている</h2><p>ハンズオンの最終段階として Laravel のウェルカム ページを表示する手順がありました。</p><blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ゆうきゃんハンズオン大成功！！！<a target="_blank" rel="noopener" href="https://twitter.com/hashtag/phpbuilders?src=hash&amp;ref_src=twsrc%5Etfw">#phpbuilders</a> <a target="_blank" rel="noopener" href="https://t.co/p33e6EgeQt">pic.twitter.com/p33e6EgeQt</a></p>&mdash; ucan (@ucan_lab) <a target="_blank" rel="noopener" href="https://twitter.com/ucan_lab/status/1388467009860431884?ref_src=twsrc%5Etfw">May 1, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>サンプルで提示されたスクリーンショットが黒を基調としたページだったのに対し、自分の環境で確認できたのは白を基調としたページでした。</p><blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ハンズオン大成功（テーマがサンプルと違って light になってしまうのが不思議 <a target="_blank" rel="noopener" href="https://twitter.com/hashtag/phpbuilders?src=hash&amp;ref_src=twsrc%5Etfw">#phpbuilders</a> <a target="_blank" rel="noopener" href="https://t.co/tevPRvubk8">pic.twitter.com/tevPRvubk8</a></p>&mdash; ガミネ (@gaminessium) <a target="_blank" rel="noopener" href="https://twitter.com/gaminessium/status/1388467080723255306?ref_src=twsrc%5Etfw">May 1, 2021</a></blockquote><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>これはウェルカム ページのスタイルに指定されたメディアクエリ、<code>prefers-color-scheme</code> の効力によるもののようです。</p><ul><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ja/docs/Web/CSS/@media/prefers-color-scheme" title="prefers-color-scheme - CSS: カスケーディングスタイルシート | MDN">prefers-color-scheme - CSS | MDN</a></li></ul><blockquote><p><code>prefers-color-scheme</code> は CSS のメディア特性で、ユーザーがシステムに要求したカラーテーマが明色か暗色かを検出するために使用します。</p></blockquote><p>Windows の場合、「色」の設定中に含まれる「既定のアプリ モード」の項目に指定した値が、このメディアクエリによって補足されます。</p><p><img src="/img/20210502_laravel01.png" alt="light テーマ"><br><img src="/img/20210502_laravel02.png" alt="dark テーマ"></p></div><footer class="article-footer"><a data-url="https://gaminessium.github.io/2021/05/02/laravel-handson-202105/" data-id="ckpgszr5y0003ayop0w0920cz" data-title="Laravel のハンズオンに参加した" class="article-share-link"><a target="_blank" rel="noopener" href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></a></footer></div><nav id="article-nav"><a href="/2021/04/04/april-fool-2021/" id="article-nav-older" class="article-nav-link-wrap">初めてエイプリルフールになった話</a></nav></article></div></main><footer class="footer"><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/NET/">.NET</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NET/ASP-NET/">ASP.NET</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/Laravel/">Laravel</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/PowerShell/">PowerShell</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">1</span></li></ul></div></div></aside><small>&copy; 2021 gaminessium</small></footer></div></body></html>